(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04f51304"],{"9c82":function(t,e,s){},d5c2:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"find"},[s("div",{staticClass:"iforget_cont"},[t._m(0),t._v(" "),s("div",{staticClass:"i_mod"},[s("div",{staticClass:"form_item"},[s("el-form",{ref:"registerForm",staticClass:"forget-form",attrs:{model:t.registerForm,rules:t.rules,autocomplete:"off","label-position":"left"}},[s("el-form-item",{attrs:{prop:"account",label:"登录名:"}},[s("el-input",{ref:"account",staticStyle:{width:"28%"},attrs:{placeholder:"请输入账号",autocomplete:"off",name:"account",type:"text"},on:{blur:function(e){return t.checkAccount(t.registerForm.account)}},model:{value:t.registerForm.account,callback:function(e){t.$set(t.registerForm,"account",e)},expression:"registerForm.account"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"password",label:"密   码:"}},[s("el-input",{ref:"password",staticStyle:{width:"28%","margin-left":"10px"},attrs:{placeholder:"请输入密码",autocomplete:"off",name:"password",type:"password"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"key",label:"手机号:"}},[s("el-input",{ref:"key",staticStyle:{width:"28%"},attrs:{maxlength:"11",placeholder:"请输入手机号",autocomplete:"off",name:"key",type:"text"},on:{blur:function(e){return t.getCheckMobile(t.registerForm.key)}},model:{value:t.registerForm.key,callback:function(e){t.$set(t.registerForm,"key",e)},expression:"registerForm.key"}})],1),t._v(" "),t.registerForm.key?s("el-form-item",{attrs:{prop:"code",label:"验证码:"}},[s("el-input",{staticStyle:{width:"15%"},attrs:{type:"text",placeholder:"6位数字验证码"},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}}),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{"background-color":"#FE3010",color:"white"},on:{click:t.sendCode}},[t._v("发送验证码")]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticStyle:{"background-color":"lightgrey"},attrs:{disabled:""}},[t._v(t._s(t.secondsCount)+"秒后重发")])],1):t._e()],1)],1),t._v(" "),t.btnBL?s("div",{staticClass:"btn_mod"},[s("a",{staticClass:"W_btn_a",attrs:{id:"btn",href:"javascript:;"},on:{click:t.regist}},[t._v("立即注册")])]):s("div",{staticClass:"btn_mod"},[s("a",{staticClass:"W_btn_a",staticStyle:{background:"gray",border:"0px"},attrs:{id:"btn",href:"javascript:;"}},[t._v("立即注册")])])])])]),t._v(" "),t._m(1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"i_top"},[s("h3",{staticClass:"title"},[t._v("用户注册")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"login-footer"},[t._v("\n  北京有为信通科技发展有限公司 版权所有 "),s("a",{attrs:{href:"http://beian.miit.gov.cn/",target:"_blank"}},[t._v("京ICP备15049025号")])])}],a=s("b0af"),n=s("b170"),i={data:function(){var t=this;return{userPhoneCode:"",secondsCount:0,isShow:!0,tenant:"",tenantView:"0000",btnBL:!0,registerForm:{account:"",code:"",password:"",key:""},rules:{account:{required:!0,message:this.$t("rules.require"),trigger:"blur"},password:{required:!0,message:this.$t("rules.require"),trigger:"blur"},key:{required:!0,validator:function(e,s,r){""===s||Object(n["d"])(s)?r():r(t.$t("rules.mobile"))},trigger:"blur"},code:{required:!0,validator:function(e,s,r){t.registerForm.code&&""===s?r("验证码不能为空"):r(),r()},trigger:"blur"}}}},methods:{sendCode:function(){var t=this;a["a"].getsendSMS({key:this.registerForm.key}).then((function(e){var s=e.data;if(0==s.code){t.$message.success(s.msg);var r=t;console.log(r),r.secondsCount=60,r.isShow=!1;var o=setInterval((function(){r.secondsCount--,r.secondsCount<=0&&(clearInterval(o),r.isShow=!0)}),1e3)}else t.$message.error(s.msg)})).finally((function(){return t.loading=!1}))},checkAccount:function(t){var e=this;t&&(this.tenant="".concat(Base64.encode(this.tenantView)),this.$store.commit("account/setTenant",this.tenant),a["a"].checkAccount({account:t}).then((function(t){var s=t.data;0==s.code?(e.$message.success(s.msg),e.btnBL=!0):e.btnBL=!1})))},getCheckMobile:function(t){var e=this;t&&(this.tenant="".concat(Base64.encode(this.tenantView)),this.$store.commit("account/setTenant",this.tenant),a["a"].getCheckMobile({mobile:t}).then((function(t){var s=t.data;0==s.code?(e.$message.success(s.msg),e.btnBL=!0):e.btnBL=!1})))},regist:function(){var t=this;this.tenant="".concat(Base64.encode(this.tenantView)),this.$store.commit("account/setTenant",this.tenant),this.$refs.registerForm.validate((function(e){if(!e)return!1;a["a"].getRegister(t.registerForm).then((function(e){var s=e.data;0==s.code&&(t.$message.success(s.msg),t.$router.push("/login"))})).finally((function(){return t.loading=!1}))}))}}},c=i,l=(s("f197"),s("2877")),u=Object(l["a"])(c,r,o,!1,null,"9b811b44",null);e["default"]=u.exports},f197:function(t,e,s){"use strict";s("9c82")}}]);